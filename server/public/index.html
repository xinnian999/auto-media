<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>文件上传</title>

    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="box">
      <form
        class="form"
        action="/upload"
        method="POST"
        enctype="multipart/form-data"
      >
        <div class="logo">短视频分发矩阵</div>
        <textarea
          placeholder="视频描述"
          class="input"
          rows="3"
          name="desc"
        ></textarea>

        <div class="tag-wrapper">
          <div class="tag-label">标签1</div>
          <input type="text" name="tag1" required />
        </div>
        <div class="tag-wrapper">
          <div class="tag-label">标签2</div>
          <input type="text" name="tag2" required />
        </div>

        <div class="tag-wrapper">
          <div class="tag-label">标签3</div>
          <input type="text" name="tag3" required />
        </div>

        <input type="file" name="file" required />

        <!-- From Uiverse.io by vishnupprajapat -->
        <div class="checkbox-wrapper-46">
          <input type="checkbox" id="cbx-46" class="inp-cbx" name="imitate" />
          <label for="cbx-46" class="cbx"
            ><span>
              <svg viewBox="0 0 12 10" height="10px" width="12px">
                <polyline points="1.5 6 4.5 9 10.5 1"></polyline></svg></span
            ><span>跳过上传</span>
          </label>
        </div>

        <button type="submit">开始分发</button>
      </form>
    </div>

    <script>
      window.addEventListener("DOMContentLoaded", () => {
        const defaultValues = {
          desc: "这是默认描述",
          tag1: "搞笑",
          tag2: "生活",
          tag3: "热门",
          imitate: true,
        };

        const form = document.querySelector(".form");

        for (const [name, value] of Object.entries(defaultValues)) {
          const field = form.elements[name];
          if (!field) continue;

          if (field.type === "checkbox") {
            field.checked = Boolean(value);
          } else {
            field.value = value;
          }
        }
      });
    </script>
  </body>
</html>
